{% extends layout %}

{% block content %}
    {% block login_content %}
        {% if error %}
            <div class="alert alert-warning" role="alert">
                <h2><span class="time">[{{ 'now'|date( 'd.m.Y H:i' ) }}]</span> {{ error.message|trans }}</h2>

                <ul>
                    <li>{{ 'ngmore_admin_ui.login.message.username_password'|trans }}</li>
                    <li>{{ 'ngmore_admin_ui.login.message.letter_case'|trans }}</li>
                    <li>{{ 'ngmore_admin_ui.login.message.contact_admin'|trans }}</li>
                </ul>
            </div>
        {% endif %}

        <div class="login-container">
            <header class="login-header">
                <a href="#" class="logo"></a>
                <h3>{{ 'ngmore_admin_ui.login.title'|trans }}</h3>
            </header>

            <form name="loginform" method="post" action="{{ path( 'login_check' ) }}">
                {% block login_fields %}
                    <div class="input-item">
                        <span class="icon icon-user"></span>
                        <input type="text" class="form-control" autofocus="autofocus" size="10" name="_username" id="logintext" placeholder="{{ 'ngmore_admin_ui.login.username'|trans }}" tabindex="1" title="{{ 'ngmore_admin_ui.login.username.title'|trans }}">
                    </div>
                    <div class="input-item">
                        <span class="icon icon-lock"></span>
                        <input type="password" class="form-control" size="10" name="_password" id="passwordtext" placeholder="{{ 'ngmore_admin_ui.login.password'|trans }}" tabindex="2" title="{{ 'ngmore_admin_ui.login.password.title'|trans }}">
                    </div>

                    {# @deprecated We check for non existence for compatibility with eZ 5 sites #}
                    {% if not app.request.attributes.has( 'csrf_enabled' ) or app.request.attributes.get( 'csrf_enabled' ) %}
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token( "authenticate" ) }}" />
                    {% endif %}

                    {#
                        If you want to control the URL the user
                        is redirected to on success (more details below)
                        <input type="hidden" name="_target_path" value="/account" />
                    #}

                    <button class="btn btn-primary" type="submit" id="loginbutton" name="LoginButton" tabindex="3" title="{{ 'ngmore_admin_ui.login.submit.title'|trans }}">{{ 'ngmore_admin_ui.login.submit'|trans }}</button>
                {% endblock %}
            </form>
        </div>
    {% endblock %}
{% endblock %}
