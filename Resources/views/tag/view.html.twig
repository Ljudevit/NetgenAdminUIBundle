{% extends 'NetgenMoreBundle::pagelayout_resolver.html.twig' %}

{% set path_array = [] %}
{% set site_title_array = [] %}
{% set tag_path_array = tag.pathString|trim( '/' )|split( '/' ) %}

{% for tag_id in tag_path_array %}
    {% set tag_keyword = netgen_tags_tag_keyword( tag_id ) %}

    {% set path_array = path_array|merge( [ {
        tag_id: tag_id,
        url: tag_id != tag.id ? path( 'ez_legacy', { 'module_uri': '/tags/id/' ~ tag_id } ) : false,
        text: tag_keyword
    } ] ) %}

    {% set site_title_array = site_title_array|merge( [tag_keyword] ) %}
{% endfor %}

{% set site_title = site_title_array|reverse|join( ' / ' ) %}

{% set module_result = {
    'path': path_array,
    'navigation_part': 'eztagsnavigationpart',
    'ui_context': 'navigation'
} %}

{% block content %}
    {% include 'design:tags/view.tpl' with {
        'tag': tag,
        'show_reindex_message': false
    } %}
{% endblock %}
